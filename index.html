<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NAPOLITAN HOTEL</title>

<style>
:root{
  --bg:#0e0e11;
  --card:#1a1a1f;
  --room:#231818;
  --text:#f2f2f2;
  --muted:#aaa;
  --accent:#d4b46a;
}

*{box-sizing:border-box;}

body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui, sans-serif;
}

header{
  padding:16px;
  text-align:center;
  border-bottom:1px solid #222;
}
header h1{margin:0;font-size:1.3rem}

button{
  background:var(--accent);
  border:none;
  border-radius:8px;
  padding:6px 10px;
  font-size:.75rem;
  cursor:pointer;
}
button.ghost{
  background:#222;
  color:#ccc;
}

main{
  max-width:900px;
  margin:auto;
  padding:16px;
}

.floor{
  background:var(--card);
  border-radius:14px;
  padding:12px;
  margin-bottom:14px;
}

.floor-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  cursor:pointer;
}

.floor-title{
  font-weight:bold;
}

.floor-controls{
  display:flex;
  gap:6px;
}

.rooms{
  margin-top:10px;
  display:none;
}

.room{
  background:var(--room);
  border-radius:10px;
  padding:8px;
  margin-top:8px;
}

.room h4{
  margin:0;
  font-size:.85rem;
}
.room p{
  margin:4px 0 0;
  font-size:.7rem;
  color:var(--muted);
}

.room-add{
  margin-top:10px;
}

@media(max-width:600px){
  button{width:100%}
  .floor-controls{flex-direction:column}
}
</style>
</head>

<body>

<header>
  <h1>NAPOLITAN HOTEL</h1>
  <button id="addFloor">+ 층 추가</button>
</header>

<main>
  <div id="floors"></div>
</main>

<script>
const floorsEl = document.getElementById("floors");
const addFloorBtn = document.getElementById("addFloor");

let floors = [];

function render(){
  floorsEl.innerHTML = "";

  floors.forEach((f,i)=>{
    const floorEl = document.createElement("div");
    floorEl.className = "floor";

    floorEl.innerHTML = `
      <div class="floor-header">
        <span class="floor-title">${f.name}</span>
        <div class="floor-controls">
          <button class="ghost up">↑</button>
          <button class="ghost down">↓</button>
          <button class="ghost del">삭제</button>
        </div>
      </div>
      <div class="rooms"></div>
      <div class="room-add">
        <button class="ghost add-room">+ 공간 추가</button>
      </div>
    `;

    const roomsEl = floorEl.querySelector(".rooms");

    f.rooms.forEach(r=>{
      const roomEl = document.createElement("div");
      roomEl.className = "room";
      roomEl.innerHTML = `
        <h4>${r.name}</h4>
        <p>${r.desc}</p>
      `;
      roomsEl.appendChild(roomEl);
    });

    // 열기 / 닫기 (버튼 클릭 충돌 방지)
    floorEl.querySelector(".floor-header").onclick = (e)=>{
      if(e.target.tagName === "BUTTON") return;
      roomsEl.style.display = roomsEl.style.display==="block"?"none":"block";
    };

    floorEl.querySelector(".up").onclick = ()=>moveFloor(i,-1);
    floorEl.querySelector(".down").onclick = ()=>moveFloor(i,1);
    floorEl.querySelector(".del").onclick = ()=>{
      if(confirm("층 삭제할까?")){
        floors.splice(i,1);
        render();
      }
    };

    floorEl.querySelector(".add-room").onclick = ()=>{
      const name = prompt("공간 이름");
      if(!name) return;
      const desc = prompt("공간 설명") || "";
      f.rooms.push({name,desc});
      render();
    };

    floorsEl.appendChild(floorEl);
  });
}

function moveFloor(i,dir){
  const t = i + dir;
  if(t<0 || t>=floors.length) return;
  [floors[i], floors[t]] = [floors[t], floors[i]];
  render();
}

addFloorBtn.onclick = ()=>{
  const name = prompt("층 이름");
  if(!name) return;
  floors.push({ name, rooms:[] });
  render();
};

render();
</script>

</body>
</html>