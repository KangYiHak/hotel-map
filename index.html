<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Napolitan Hotel</title>

<style>
:root{
  --bg:#0b0b0e;
  --card:#151518;
  --text:#eee;
  --muted:#999;
  --accent:#d6b56e;
  --sub:#5a2a2a;
}

body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui, sans-serif;
}

header{
  padding:18px;
  text-align:center;
  border-bottom:1px solid #222;
}
header h1{margin:0;font-size:1.4rem}
header p{margin:6px 0 0;color:var(--muted);font-size:.85rem}

main{
  max-width:900px;
  margin:0 auto;
  padding:16px;
}

button{
  background:var(--accent);
  color:#000;
  border:none;
  border-radius:8px;
  padding:8px 12px;
  font-size:.8rem;
  cursor:pointer;
}
button.ghost{background:#222;color:#ccc}

.floor{
  background:var(--card);
  border-radius:14px;
  margin-bottom:14px;
  overflow:hidden;
}
.floor-header{
  padding:14px 16px;
  background:linear-gradient(135deg,#1a0f0f,var(--sub));
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.floor-header h2{margin:0;font-size:1rem}

.floor-controls{
  display:flex;
  gap:6px;
  padding:10px 16px;
}

.rooms{
  padding:10px 16px 16px;
}

.popup{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:1000;
}
.popup-content{
  background:var(--card);
  width:90%;
  max-width:420px;
  border-radius:16px;
  padding:16px;
}
.popup-content input{
  width:100%;
  padding:8px;
  margin-bottom:10px;
  background:#0f0f12;
  color:var(--text);
  border:1px solid #333;
  border-radius:6px;
}
</style>
</head>

<body>

<header>
  <h1>NAPOLITAN HOTEL</h1>
  <p>Í≥µÍ∞Ñ Í∏∞Î°ù Ï°∞ÏÇ¨Ìëú</p>
</header>

<main>
  <button onclick="openPopup()">Ôºã Ï∏µ Ï∂îÍ∞Ä</button>
  <div id="floors"></div>
</main>

<!-- ÌåùÏóÖ -->
<div class="popup" id="popup">
  <div class="popup-content">
    <h3>Ï∏µ Ï∂îÍ∞Ä</h3>
    <input id="floorName" placeholder="Ï∏µ Ïù¥Î¶Ñ" />
    <button onclick="addFloor()">Ï∂îÍ∞Ä</button>
    <button class="ghost" onclick="closePopup()">Ï∑®ÏÜå</button>
  </div>
</div>

<script>
let floors = [];

const main = document.querySelector("main");

/* ---------- Î†åÎçî ---------- */
function render() {
  main.innerHTML = "";

  floors.forEach((floor, fIndex) => {
    const floorEl = document.createElement("section");
    floorEl.className = "floor";

    floorEl.innerHTML = `
      <div class="floor-header">
        <div>
          <h2>${floor.name}</h2>
          <p>${floor.desc}</p>
        </div>
        <button class="ghost toggle">Ïó¥Í∏∞</button>
      </div>
      <div class="floor-controls">
        <button class="sub add-room">+ Í≥µÍ∞Ñ Ï∂îÍ∞Ä</button>
        <button class="ghost delete-floor">Ï∏µ ÏÇ≠Ï†ú</button>
      </div>
      <div class="rooms"></div>
    `;

    const roomsEl = floorEl.querySelector(".rooms");

    floor.rooms.forEach((room, rIndex) => {
      const roomEl = document.createElement("div");
      roomEl.className = "room";
      if (room.locked) roomEl.classList.add("locked");

      roomEl.innerHTML = `
        <div class="room-header">
          <h3>${room.name}${room.locked ? " üîí" : ""}</h3>
          <button class="ghost lock-btn">
            ${room.locked ? "Ïû†Í∏à Ìï¥Ï†ú" : "Ïû†Í∑∏Í∏∞"}
          </button>
        </div>
        <p>${room.desc}</p>
        <div class="room-controls">
          <button class="sub edit-room" ${room.locked ? "disabled" : ""}>ÏàòÏ†ï</button>
          <button class="ghost delete-room">ÏÇ≠Ï†ú</button>
        </div>
      `;

      /* Ïû†Í∏à ÌÜ†Í∏Ä */
      roomEl.querySelector(".lock-btn").onclick = (e) => {
        e.stopPropagation();
        room.locked = !room.locked;
        render();
      };

      /* ÏàòÏ†ï */
      roomEl.querySelector(".edit-room").onclick = (e) => {
        e.stopPropagation();
        const name = prompt("Í≥µÍ∞Ñ Ïù¥Î¶Ñ", room.name);
        if (!name) return;
        const desc = prompt("Í≥µÍ∞Ñ ÏÑ§Î™Ö", room.desc);
        room.name = name;
        room.desc = desc || "";
        render();
      };

      /* ÏÇ≠Ï†ú */
      roomEl.querySelector(".delete-room").onclick = (e) => {
        e.stopPropagation();
        floor.rooms.splice(rIndex, 1);
        render();
      };

      roomsEl.appendChild(roomEl);
    });

    /* Ï∏µ Ïó¥Í∏∞/Îã´Í∏∞ */
    floorEl.querySelector(".toggle").onclick = () => {
      roomsEl.style.display =
        roomsEl.style.display === "block" ? "none" : "block";
    };

    /* Í≥µÍ∞Ñ Ï∂îÍ∞Ä */
    floorEl.querySelector(".add-room").onclick = (e) => {
      e.stopPropagation();
      const name = prompt("Í≥µÍ∞Ñ Ïù¥Î¶Ñ");
      if (!name) return;
      floor.rooms.push({
        name,
        desc: "",
        locked: false,
      });
      render();
    };

    /* Ï∏µ ÏÇ≠Ï†ú */
    floorEl.querySelector(".delete-floor").onclick = () => {
      floors.splice(fIndex, 1);
      render();
    };

    main.appendChild(floorEl);
  });
}

/* ---------- Ï∏µ Ï∂îÍ∞Ä ---------- */
document.getElementById("addFloor").onclick = () => {
  const name = prompt("Ï∏µ Ïù¥Î¶Ñ");
  if (!name) return;
  floors.push({
    name,
    desc: "Ï∏µ ÌÖåÎßà ÏÑ§Î™Ö",
    rooms: [],
  });
  render();
};

render();
</script> document.getElementById('floorName').value='';
  closePopup();
  render();
}

function moveFloor(i, dir){
  const t = i + dir;
  if(t<0 || t>=floors.length) return;
  [floors[i], floors[t]] = [floors[t], floors[i]];
  render();
}

function removeFloor(i){
  if(!confirm('Ï∏µÏùÑ ÏÇ≠Ï†úÌï†Íπå?')) return;
  floors.splice(i,1);
  render();
}

function render(){
  floorsEl.innerHTML='';
  floors.forEach((f,i)=>{
    const el=document.createElement('div');
    el.className='floor';
    el.innerHTML=`
      <div class="floor-header">
        <h2>${f.name}</h2>
        <div>
          <button onclick="moveFloor(${i},-1)">‚Üë</button>
          <button onclick="moveFloor(${i},1)">‚Üì</button>
          <button class="ghost" onclick="removeFloor(${i})">ÏÇ≠Ï†ú</button>
        </div>
      </div>
    `;
    floorsEl.appendChild(el);
  });
}
</script>

</body>
</html>